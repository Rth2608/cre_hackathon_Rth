# ---------------------------
# Railway runtime
# ---------------------------
PORT=8787

# Chain writer
RPC_URL=
CHAIN_ID=4801
CONTRACT_ADDRESS=
COORDINATOR_PRIVATE_KEY=
TENDERLY_TX_BASE_URL=
ONCHAIN_READ_ENABLED=true
ONCHAIN_READ_STRICT=true
ONCHAIN_LOG_FROM_BLOCK=0
ONCHAIN_MAX_REQUESTS=100

# Demo mode: if true, no real tx will be sent
USE_MOCK_ONCHAIN=false
USE_DON_BUNDLE_FINALIZE=false
USE_DON_SIGNED_REPORTS=false
DON_DISTRIBUTED_MODE=false

# DON signature/bundle settings
DON_DOMAIN_NAME=CRE-DON-Consensus
DON_DOMAIN_VERSION=1
DON_VERIFIER_CONTRACT=
DON_PROMPT_TEMPLATE_HASH=
DON_CONSENSUS_ROUND=1
DON_OPERATOR_PRIVATE_KEYS_JSON=
DON_LEADER_OPERATOR=
DON_LEADER_PRIVATE_KEY=

# Optional external CRE command invocation
CRE_CLI_ENABLED=false
CRE_COMMAND=cre
CRE_ARGS=workflow run

# Optional mock node failures (comma-separated)
MOCK_FAIL_NODES=

# x402 (mock settlement gate for now; replace with real facilitator later)
X402_ENABLED=false
X402_PRICE_REQUEST_CREATE=$0.05
X402_PRICE_RUN_VERIFICATION=$0.05
X402_PRICE_NODE_REGISTRATION=$0.01

# World ID integration stage flag
# true: bypass cloud verify and trust submitted proof payload (demo fallback)
# false: require valid World ID proof verification and x-world-id-token session
ASSUME_WORLD_ID_VERIFIED=false
WORLD_ID_APP_ID=
WORLD_ID_ACTION=
# Optional multi-profile routing (recommended for "miniapp orb + simulator" mixed demo)
# JSON array example:
# WORLD_ID_ALLOWED_PROFILES_JSON=[{"id":"mini-orb","appId":"app_prod_xxx","action":"prediction_market_cre_demo","clientSources":["miniapp"]},{"id":"simulator","appId":"app_staging_xxx","action":"prediction_market_cre_demo","clientSources":["external","manual"]}]
WORLD_ID_ALLOWED_PROFILES_JSON=
# World ID 4.0 verify endpoint
WORLD_ID_VERIFY_API_V4_BASE_URL=https://developer.world.org/api/v4/verify
# Required: RP ID route (rp_xxx)
WORLD_ID_RP_ID=
WORLD_ID_VERIFY_TIMEOUT_MS=8000
WORLD_ID_SESSION_TTL_SECONDS=86400

# If true, verification fails unless >=3 ACTIVE registered nodes exist
REQUIRE_REGISTERED_NODES=false
ALLOW_DEFAULT_NODES=true
MIN_NODE_STAKE=0
REQUIRE_NODE_ENDPOINT_URL=false
REQUIRE_HEALTHY_NODE_ENDPOINTS=false
NODE_HEARTBEAT_TTL_SECONDS=0
NODE_REFRESH_HEALTH_BEFORE_MATCH=true
NODE_ENDPOINT_HEALTHCHECK_ENABLED=true
NODE_ENDPOINT_HEALTHCHECK_TIMEOUT_MS=2500
NODE_CHALLENGE_TTL_SECONDS=300
NODE_DEFAULT_MODEL_NAME_PREFIX=operator
NODE_ENDPOINT_URL_MAP_JSON=
NODE_ENDPOINT_URL_BY_FAMILY_JSON=
NODE_DEFAULT_ENDPOINT_URL=
NODE_ENDPOINT_VERIFY_ENABLED=false
NODE_ENDPOINT_VERIFY_PATH=/verify
NODE_ENDPOINT_VERIFY_TIMEOUT_MS=8000
NODE_ENDPOINT_VERIFY_FALLBACK_MOCK=false
NODE_ENDPOINT_REQUIRE_SIGNED_REPORTS=true
NODE_ENDPOINT_BUNDLE_APPROVAL_PATH=/sign-bundle-approval
NODE_ENDPOINT_LEADER_SIGN_PATH=/sign-consensus-bundle
DON_ENDPOINT_BUNDLE_SIGNING_ENABLED=true
NODE_LIFECYCLE_ONCHAIN_ENABLED=false

# Optional PoR dashboard fallback values (when reports/por-history.json is absent)
POR_MARKET_ID=1
POR_EPOCH=1
POR_ASSETS_MICROUSDC=1000000000
POR_LIABILITIES_MICROUSDC=950000000
POR_TX_HASH=
POR_ONCHAIN_READ_ENABLED=true
POR_ONCHAIN_READ_STRICT=false
POR_ONCHAIN_AUTO_RECORD_ENABLED=true
POR_ONCHAIN_AUTO_RECORD_STRICT=false
POR_AUTO_DELTA_ASSETS_MICROUSDC=10000000
POR_AUTO_DELTA_LIABILITIES_MICROUSDC=9000000
